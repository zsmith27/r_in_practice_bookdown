<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>12 Writing Functions | R in Practice</title>
  <meta name="description" content="12 Writing Functions | R in Practice">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="12 Writing Functions | R in Practice" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12 Writing Functions | R in Practice" />
  
  
  

<meta name="author" content="Zachary M. Smith">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="style-guide.html">
<link rel="next" href="loops.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#goals"><i class="fa fa-check"></i><b>1.1</b> Goals</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#tip"><i class="fa fa-check"></i><b>1.1.1</b> Tip</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-r"><i class="fa fa-check"></i><b>1.2</b> What is R?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#benefits-of-using-r"><i class="fa fa-check"></i><b>1.2.1</b> Benefits of Using R</a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#r-packages"><i class="fa fa-check"></i><b>1.2.2</b> R Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="quick-reference.html"><a href="quick-reference.html"><i class="fa fa-check"></i><b>2</b> Quick Reference</a></li>
<li class="chapter" data-level="3" data-path="installation-links.html"><a href="installation-links.html"><i class="fa fa-check"></i><b>3</b> Installation Links</a><ul>
<li class="chapter" data-level="3.1" data-path="installation-links.html"><a href="installation-links.html#updating-software-and-packages"><i class="fa fa-check"></i><b>3.1</b> Updating Software and Packages</a><ul>
<li class="chapter" data-level="3.1.1" data-path="installation-links.html"><a href="installation-links.html#r"><i class="fa fa-check"></i><b>3.1.1</b> R</a></li>
<li class="chapter" data-level="3.1.2" data-path="installation-links.html"><a href="installation-links.html#rstudio"><i class="fa fa-check"></i><b>3.1.2</b> RStudio</a></li>
<li class="chapter" data-level="3.1.3" data-path="installation-links.html"><a href="installation-links.html#r-packages-1"><i class="fa fa-check"></i><b>3.1.3</b> R-Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rstudio-1.html"><a href="rstudio-1.html"><i class="fa fa-check"></i><b>4</b> RStudio</a><ul>
<li class="chapter" data-level="4.1" data-path="rstudio-1.html"><a href="rstudio-1.html#create-a-new-script"><i class="fa fa-check"></i><b>4.1</b> Create a New Script</a></li>
<li class="chapter" data-level="4.2" data-path="rstudio-1.html"><a href="rstudio-1.html#rstudio-overview"><i class="fa fa-check"></i><b>4.2</b> RStudio Overview</a><ul>
<li class="chapter" data-level="4.2.1" data-path="rstudio-1.html"><a href="rstudio-1.html#source-window"><i class="fa fa-check"></i><b>4.2.1</b> Source Window</a></li>
<li class="chapter" data-level="4.2.2" data-path="rstudio-1.html"><a href="rstudio-1.html#console-window"><i class="fa fa-check"></i><b>4.2.2</b> Console Window</a></li>
<li class="chapter" data-level="4.2.3" data-path="rstudio-1.html"><a href="rstudio-1.html#environment-history-connections-build-and-git"><i class="fa fa-check"></i><b>4.2.3</b> Environment, History, Connections, Build, and Git</a></li>
<li class="chapter" data-level="4.2.4" data-path="rstudio-1.html"><a href="rstudio-1.html#files-plots-packages-help-and-viewer"><i class="fa fa-check"></i><b>4.2.4</b> Files, Plots, Packages, Help, and Viewer</a></li>
<li class="chapter" data-level="4.2.5" data-path="rstudio-1.html"><a href="rstudio-1.html#files-tab"><i class="fa fa-check"></i><b>4.2.5</b> Files Tab</a></li>
<li class="chapter" data-level="4.2.6" data-path="rstudio-1.html"><a href="rstudio-1.html#plots-tab"><i class="fa fa-check"></i><b>4.2.6</b> Plots Tab</a></li>
<li class="chapter" data-level="4.2.7" data-path="rstudio-1.html"><a href="rstudio-1.html#packages-tab"><i class="fa fa-check"></i><b>4.2.7</b> Packages Tab</a></li>
<li class="chapter" data-level="4.2.8" data-path="rstudio-1.html"><a href="rstudio-1.html#help-tab"><i class="fa fa-check"></i><b>4.2.8</b> Help Tab</a></li>
<li class="chapter" data-level="4.2.9" data-path="rstudio-1.html"><a href="rstudio-1.html#viewer-tab"><i class="fa fa-check"></i><b>4.2.9</b> Viewer Tab</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="rstudio-1.html"><a href="rstudio-1.html#shortcuts"><i class="fa fa-check"></i><b>4.3</b> Shortcuts</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-project.html"><a href="r-project.html"><i class="fa fa-check"></i><b>5</b> R Project</a><ul>
<li class="chapter" data-level="5.1" data-path="r-project.html"><a href="r-project.html#create-a-new-r-project"><i class="fa fa-check"></i><b>5.1</b> Create a New R Project</a></li>
<li class="chapter" data-level="5.2" data-path="r-project.html"><a href="r-project.html#navigate-between-packages"><i class="fa fa-check"></i><b>5.2</b> Navigate Between Packages</a></li>
<li class="chapter" data-level="5.3" data-path="r-project.html"><a href="r-project.html#recommended-workflow"><i class="fa fa-check"></i><b>5.3</b> Recommended Workflow</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>6</b> Version Control</a><ul>
<li class="chapter" data-level="6.1" data-path="version-control.html"><a href="version-control.html#git-resources"><i class="fa fa-check"></i><b>6.1</b> Git Resources</a></li>
<li class="chapter" data-level="6.2" data-path="version-control.html"><a href="version-control.html#link-r-studio-to-github-repository"><i class="fa fa-check"></i><b>6.2</b> Link R Studio to GitHub Repository</a></li>
<li class="chapter" data-level="6.3" data-path="version-control.html"><a href="version-control.html#push-and-pull-repository-changes-in-r-studio"><i class="fa fa-check"></i><b>6.3</b> Push and Pull Repository Changes in R Studio</a><ul>
<li class="chapter" data-level="6.3.1" data-path="version-control.html"><a href="version-control.html#pull"><i class="fa fa-check"></i><b>6.3.1</b> Pull</a></li>
<li class="chapter" data-level="6.3.2" data-path="version-control.html"><a href="version-control.html#commit"><i class="fa fa-check"></i><b>6.3.2</b> Commit</a></li>
<li class="chapter" data-level="6.3.3" data-path="version-control.html"><a href="version-control.html#push"><i class="fa fa-check"></i><b>6.3.3</b> Push</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="version-control.html"><a href="version-control.html#repository-branch"><i class="fa fa-check"></i><b>6.4</b> Repository Branch</a><ul>
<li class="chapter" data-level="6.4.1" data-path="version-control.html"><a href="version-control.html#create-a-new-branch"><i class="fa fa-check"></i><b>6.4.1</b> Create a New Branch</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="version-control.html"><a href="version-control.html#merge-branches"><i class="fa fa-check"></i><b>6.5</b> Merge Branches</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>7</b> R Markdown</a><ul>
<li class="chapter" data-level="7.1" data-path="r-markdown.html"><a href="r-markdown.html#benefits"><i class="fa fa-check"></i><b>7.1</b> Benefits</a></li>
<li class="chapter" data-level="7.2" data-path="r-markdown.html"><a href="r-markdown.html#basic-overview"><i class="fa fa-check"></i><b>7.2</b> Basic Overview</a></li>
<li class="chapter" data-level="7.3" data-path="r-markdown.html"><a href="r-markdown.html#create-a-new-document"><i class="fa fa-check"></i><b>7.3</b> Create a New Document</a></li>
<li class="chapter" data-level="7.4" data-path="r-markdown.html"><a href="r-markdown.html#editing"><i class="fa fa-check"></i><b>7.4</b> Editing</a><ul>
<li class="chapter" data-level="7.4.1" data-path="r-markdown.html"><a href="r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>7.4.1</b> YAML Header</a></li>
<li class="chapter" data-level="7.4.2" data-path="r-markdown.html"><a href="r-markdown.html#heading-text"><i class="fa fa-check"></i><b>7.4.2</b> Heading Text</a></li>
<li class="chapter" data-level="7.4.3" data-path="r-markdown.html"><a href="r-markdown.html#plain-text"><i class="fa fa-check"></i><b>7.4.3</b> Plain Text</a></li>
<li class="chapter" data-level="7.4.4" data-path="r-markdown.html"><a href="r-markdown.html#insert-code-chunks"><i class="fa fa-check"></i><b>7.4.4</b> Insert Code Chunks</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="r-markdown.html"><a href="r-markdown.html#compile-the-document"><i class="fa fa-check"></i><b>7.5</b> Compile the Document</a></li>
<li class="chapter" data-level="7.6" data-path="r-markdown.html"><a href="r-markdown.html#file-management"><i class="fa fa-check"></i><b>7.6</b> File Management</a></li>
<li class="chapter" data-level="7.7" data-path="r-markdown.html"><a href="r-markdown.html#child-documents"><i class="fa fa-check"></i><b>7.7</b> Child Documents</a><ul>
<li class="chapter" data-level="7.7.1" data-path="r-markdown.html"><a href="r-markdown.html#extract-and-run-r-code-from-r-markdown-files"><i class="fa fa-check"></i><b>7.7.1</b> Extract and Run R-Code from R Markdown Files</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="r-markdown.html"><a href="r-markdown.html#parameterized-reports"><i class="fa fa-check"></i><b>7.8</b> Parameterized Reports</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="base-r.html"><a href="base-r.html"><i class="fa fa-check"></i><b>8</b> Base R</a><ul>
<li class="chapter" data-level="8.1" data-path="base-r.html"><a href="base-r.html#data-types"><i class="fa fa-check"></i><b>8.1</b> Data Types</a><ul>
<li class="chapter" data-level="8.1.1" data-path="base-r.html"><a href="base-r.html#numeric-double"><i class="fa fa-check"></i><b>8.1.1</b> Numeric (Double)</a></li>
<li class="chapter" data-level="8.1.2" data-path="base-r.html"><a href="base-r.html#integer"><i class="fa fa-check"></i><b>8.1.2</b> Integer</a></li>
<li class="chapter" data-level="8.1.3" data-path="base-r.html"><a href="base-r.html#logical"><i class="fa fa-check"></i><b>8.1.3</b> Logical</a></li>
<li class="chapter" data-level="8.1.4" data-path="base-r.html"><a href="base-r.html#character"><i class="fa fa-check"></i><b>8.1.4</b> Character</a></li>
<li class="chapter" data-level="8.1.5" data-path="base-r.html"><a href="base-r.html#factor"><i class="fa fa-check"></i><b>8.1.5</b> Factor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>9</b> Data Structures</a><ul>
<li class="chapter" data-level="9.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>9.1</b> Vectors</a></li>
<li class="chapter" data-level="9.2" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>9.2</b> Matrices</a></li>
<li class="chapter" data-level="9.3" data-path="data-structures.html"><a href="data-structures.html#arrays"><i class="fa fa-check"></i><b>9.3</b> Arrays</a></li>
<li class="chapter" data-level="9.4" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>9.4</b> Data Frames</a></li>
<li class="chapter" data-level="9.5" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>9.5</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-structure-manipulation.html"><a href="data-structure-manipulation.html"><i class="fa fa-check"></i><b>10</b> Data Structure Manipulation</a><ul>
<li class="chapter" data-level="10.1" data-path="data-structure-manipulation.html"><a href="data-structure-manipulation.html#assignment-opperator--"><i class="fa fa-check"></i><b>10.1</b> Assignment Opperator (<code>&lt;-</code>)</a></li>
<li class="chapter" data-level="10.2" data-path="data-structure-manipulation.html"><a href="data-structure-manipulation.html#manipulting-vectors"><i class="fa fa-check"></i><b>10.2</b> Manipulting Vectors</a></li>
<li class="chapter" data-level="10.3" data-path="data-structure-manipulation.html"><a href="data-structure-manipulation.html#manipulating-data-frames"><i class="fa fa-check"></i><b>10.3</b> Manipulating Data Frames</a></li>
<li class="chapter" data-level="10.4" data-path="data-structure-manipulation.html"><a href="data-structure-manipulation.html#importing-data"><i class="fa fa-check"></i><b>10.4</b> Importing Data</a><ul>
<li class="chapter" data-level="10.4.1" data-path="data-structure-manipulation.html"><a href="data-structure-manipulation.html#file_path"><i class="fa fa-check"></i><b>10.4.1</b> file_path</a></li>
<li class="chapter" data-level="10.4.2" data-path="data-structure-manipulation.html"><a href="data-structure-manipulation.html#read.csv"><i class="fa fa-check"></i><b>10.4.2</b> read.csv</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="style-guide.html"><a href="style-guide.html"><i class="fa fa-check"></i><b>11</b> Style Guide</a><ul>
<li class="chapter" data-level="11.1" data-path="style-guide.html"><a href="style-guide.html#names"><i class="fa fa-check"></i><b>11.1</b> Names</a><ul>
<li class="chapter" data-level="11.1.1" data-path="style-guide.html"><a href="style-guide.html#object-names-discriptive-suffix"><i class="fa fa-check"></i><b>11.1.1</b> Object Names: Discriptive Suffix</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="style-guide.html"><a href="style-guide.html#spacing-and-indenting"><i class="fa fa-check"></i><b>11.2</b> Spacing and Indenting</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="writing-functions.html"><a href="writing-functions.html"><i class="fa fa-check"></i><b>12</b> Writing Functions</a></li>
<li class="chapter" data-level="13" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>13</b> Loops</a><ul>
<li class="chapter" data-level="13.1" data-path="loops.html"><a href="loops.html#for-loop"><i class="fa fa-check"></i><b>13.1</b> for loop</a></li>
<li class="chapter" data-level="13.2" data-path="loops.html"><a href="loops.html#apply-family"><i class="fa fa-check"></i><b>13.2</b> apply family</a><ul>
<li class="chapter" data-level="13.2.1" data-path="loops.html"><a href="loops.html#apply"><i class="fa fa-check"></i><b>13.2.1</b> apply</a></li>
<li class="chapter" data-level="13.2.2" data-path="loops.html"><a href="loops.html#lapply"><i class="fa fa-check"></i><b>13.2.2</b> lapply</a></li>
<li class="chapter" data-level="13.2.3" data-path="loops.html"><a href="loops.html#sapply"><i class="fa fa-check"></i><b>13.2.3</b> sapply</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>14</b> Tidyverse</a><ul>
<li class="chapter" data-level="14.1" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-directory"><i class="fa fa-check"></i><b>14.1</b> Tidyverse Directory</a></li>
<li class="chapter" data-level="14.2" data-path="tidyverse.html"><a href="tidyverse.html#magrittr"><i class="fa fa-check"></i><b>14.2</b> magrittr</a><ul>
<li class="chapter" data-level="14.2.1" data-path="tidyverse.html"><a href="tidyverse.html#example-data"><i class="fa fa-check"></i><b>14.2.1</b> Example Data</a></li>
<li class="chapter" data-level="14.2.2" data-path="tidyverse.html"><a href="tidyverse.html#pipe-operator"><i class="fa fa-check"></i><b>14.2.2</b> Pipe Operator (%&gt;%)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>15</b> dplyr</a><ul>
<li class="chapter" data-level="15.0.1" data-path="dplyr.html"><a href="dplyr.html#example-data-1"><i class="fa fa-check"></i><b>15.0.1</b> Example Data</a></li>
<li class="chapter" data-level="15.0.2" data-path="dplyr.html"><a href="dplyr.html#rename"><i class="fa fa-check"></i><b>15.0.2</b> Rename</a></li>
<li class="chapter" data-level="15.0.3" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>15.0.3</b> Filter</a></li>
<li class="chapter" data-level="15.0.4" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>15.0.4</b> Select</a></li>
<li class="chapter" data-level="15.0.5" data-path="dplyr.html"><a href="dplyr.html#distinct"><i class="fa fa-check"></i><b>15.0.5</b> distinct</a></li>
<li class="chapter" data-level="15.0.6" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>15.0.6</b> mutate</a></li>
<li class="chapter" data-level="15.0.7" data-path="dplyr.html"><a href="dplyr.html#group_by"><i class="fa fa-check"></i><b>15.0.7</b> group_by</a></li>
<li class="chapter" data-level="15.0.8" data-path="dplyr.html"><a href="dplyr.html#summarize"><i class="fa fa-check"></i><b>15.0.8</b> summarize</a></li>
<li class="chapter" data-level="15.0.9" data-path="dplyr.html"><a href="dplyr.html#joins"><i class="fa fa-check"></i><b>15.0.9</b> Joins</a></li>
<li class="chapter" data-level="15.0.10" data-path="dplyr.html"><a href="dplyr.html#bind"><i class="fa fa-check"></i><b>15.0.10</b> Bind</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="tidyr.html"><a href="tidyr.html"><i class="fa fa-check"></i><b>16</b> tidyr</a><ul>
<li class="chapter" data-level="16.0.1" data-path="tidyr.html"><a href="tidyr.html#example-data-2"><i class="fa fa-check"></i><b>16.0.1</b> Example Data</a></li>
<li class="chapter" data-level="16.0.2" data-path="tidyr.html"><a href="tidyr.html#spread"><i class="fa fa-check"></i><b>16.0.2</b> spread</a></li>
<li class="chapter" data-level="16.0.3" data-path="tidyr.html"><a href="tidyr.html#gather"><i class="fa fa-check"></i><b>16.0.3</b> gather</a></li>
<li class="chapter" data-level="16.0.4" data-path="tidyr.html"><a href="tidyr.html#complete"><i class="fa fa-check"></i><b>16.0.4</b> complete</a></li>
<li class="chapter" data-level="16.0.5" data-path="tidyr.html"><a href="tidyr.html#separate"><i class="fa fa-check"></i><b>16.0.5</b> separate</a></li>
<li class="chapter" data-level="16.0.6" data-path="tidyr.html"><a href="tidyr.html#unite"><i class="fa fa-check"></i><b>16.0.6</b> unite</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="lubridate.html"><a href="lubridate.html"><i class="fa fa-check"></i><b>17</b> lubridate</a><ul>
<li class="chapter" data-level="17.0.1" data-path="lubridate.html"><a href="lubridate.html#example-data-3"><i class="fa fa-check"></i><b>17.0.1</b> Example Data</a></li>
<li class="chapter" data-level="17.0.2" data-path="lubridate.html"><a href="lubridate.html#mdy-ymd-dmy-ymd_hms"><i class="fa fa-check"></i><b>17.0.2</b> mdy, ymd, dmy, ymd_hms, …</a></li>
<li class="chapter" data-level="17.0.3" data-path="lubridate.html"><a href="lubridate.html#year-month-mday-yday-hour-minute-and-second"><i class="fa fa-check"></i><b>17.0.3</b> year, month, mday, yday, hour, minute, and second</a></li>
<li class="chapter" data-level="17.0.4" data-path="lubridate.html"><a href="lubridate.html#round_date-floor_date-and-ceiling_date"><i class="fa fa-check"></i><b>17.0.4</b> round_date, floor_date, and ceiling_date</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>18</b> ggplot2</a><ul>
<li class="chapter" data-level="18.0.1" data-path="ggplot2.html"><a href="ggplot2.html#example-data-4"><i class="fa fa-check"></i><b>18.0.1</b> Example Data</a></li>
<li class="chapter" data-level="18.0.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot"><i class="fa fa-check"></i><b>18.0.2</b> ggplot</a></li>
<li class="chapter" data-level="18.0.3" data-path="ggplot2.html"><a href="ggplot2.html#aes"><i class="fa fa-check"></i><b>18.0.3</b> aes</a></li>
<li class="chapter" data-level="18.0.4" data-path="ggplot2.html"><a href="ggplot2.html#geom_boxplot"><i class="fa fa-check"></i><b>18.0.4</b> geom_boxplot</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>19</b> Shiny</a><ul>
<li class="chapter" data-level="19.1" data-path="shiny.html"><a href="shiny.html#what-is-shiny"><i class="fa fa-check"></i><b>19.1</b> What is Shiny?</a></li>
<li class="chapter" data-level="19.2" data-path="shiny.html"><a href="shiny.html#resources"><i class="fa fa-check"></i><b>19.2</b> Resources</a></li>
<li class="chapter" data-level="19.3" data-path="shiny.html"><a href="shiny.html#project-composition"><i class="fa fa-check"></i><b>19.3</b> Project Composition</a><ul>
<li class="chapter" data-level="19.3.1" data-path="shiny.html"><a href="shiny.html#ui.r"><i class="fa fa-check"></i><b>19.3.1</b> ui.R</a></li>
<li class="chapter" data-level="19.3.2" data-path="shiny.html"><a href="shiny.html#server.r"><i class="fa fa-check"></i><b>19.3.2</b> server.R</a></li>
<li class="chapter" data-level="19.3.3" data-path="shiny.html"><a href="shiny.html#global.r"><i class="fa fa-check"></i><b>19.3.3</b> global.R</a></li>
<li class="chapter" data-level="19.3.4" data-path="shiny.html"><a href="shiny.html#structure"><i class="fa fa-check"></i><b>19.3.4</b> Structure</a></li>
<li class="chapter" data-level="19.3.5" data-path="shiny.html"><a href="shiny.html#r-packages-2"><i class="fa fa-check"></i><b>19.3.5</b> R-Packages</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="shiny.html"><a href="shiny.html#helpful-r-packages"><i class="fa fa-check"></i><b>19.4</b> Helpful R-Packages</a><ul>
<li class="chapter" data-level="19.4.1" data-path="shiny.html"><a href="shiny.html#dt-interactive-tables"><i class="fa fa-check"></i><b>19.4.1</b> DT (Interactive Tables)</a></li>
<li class="chapter" data-level="19.4.2" data-path="shiny.html"><a href="shiny.html#dygraphs-interactive-time-series-plots"><i class="fa fa-check"></i><b>19.4.2</b> dygraphs (Interactive Time Series Plots)</a></li>
<li class="chapter" data-level="19.4.3" data-path="shiny.html"><a href="shiny.html#leaflet-interactive-maps"><i class="fa fa-check"></i><b>19.4.3</b> leaflet (Interactive Maps)</a></li>
<li class="chapter" data-level="19.4.4" data-path="shiny.html"><a href="shiny.html#plotly-interactive-figures"><i class="fa fa-check"></i><b>19.4.4</b> plotly (Interactive Figures)</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="shiny.html"><a href="shiny.html#publishing"><i class="fa fa-check"></i><b>19.5</b> Publishing</a><ul>
<li class="chapter" data-level="19.5.1" data-path="shiny.html"><a href="shiny.html#how-to-publish-to-shinyapps.io"><i class="fa fa-check"></i><b>19.5.1</b> How to Publish to shinyapps.io</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="shiny.html"><a href="shiny.html#data-management"><i class="fa fa-check"></i><b>19.6</b> Data Management</a><ul>
<li class="chapter" data-level="19.6.1" data-path="shiny.html"><a href="shiny.html#small-data-sets"><i class="fa fa-check"></i><b>19.6.1</b> Small Data Sets</a></li>
<li class="chapter" data-level="19.6.2" data-path="shiny.html"><a href="shiny.html#large-data-sets"><i class="fa fa-check"></i><b>19.6.2</b> Large Data Sets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="default-shiny-example.html"><a href="default-shiny-example.html"><i class="fa fa-check"></i><b>20</b> Default Shiny Example</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R in Practice</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="writing-functions" class="section level1">
<h1><span class="header-section-number">12</span> Writing Functions</h1>
<p>It is highly recommended that you learn to write your own functions. In general, anytime you have the urge to copy and paste code to perform a similar process on a different aspect of your data you should instead write a function. A function is a single standardized process that you apply to similar data sets. Therefore, it is easier to update the function rather than multiple chunks of code that have been copied and pasted throughout your script. For example, imagine you have copied and pasted code ten times. Later you want to update the code. Now you have to update all ten instances of the code. This is time consuming and it would be easy to miss or add a typo to one of the ten instances. If the process is stored as a function, you make one update to the function and that update is applied in a standardized manner to all ten instances of your data.</p>
<p>The image below provides an overview of the pieces necessary to create a function. Use <code>function()</code> to initialize the creation of a new function. Within function you will, generally, add arguements (in example below: <code>x, y</code>) that you will want to be able to modify. Curly brackets (<code>{}</code>) following the <code>function()</code> call define the extent of the body of the function being created. Within the curly brackets is wher most of the work is performed; this is the area where we insert our code that we want to become a standarized process. This example is very simple, just <code>x -y</code>, but you could insert 100+ lines of code into a function. However, really lenghty functions are poor practice. Finally, the function needs to be stored as an object. Use the assignment opperator (<code>&lt;-</code>) to assign this function an object name (e.g., <code>subtract &lt;-</code>).</p>
<center>
<img src="images/writing_functions/func_structure.png" />
</center>
<p>Let us actually create this function.</p>
<pre class="sourceCode r"><code class="sourceCode r">subtract &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {
  x <span class="op">-</span><span class="st"> </span>y
}</code></pre>
<p>Once this function has been executed, it is stored as a object named “subtract”. This object can be seen in the Environment window.</p>
<center>
<img src="images/writing_functions/func_in_env.png" width="400" />
</center>
<p>Now we can test our function.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subtract</span>(<span class="dt">x =</span> <span class="dv">10</span>, <span class="dt">y =</span> <span class="dv">5</span>)</code></pre>
<pre><code>## [1] 5</code></pre>
<p>We can get the same results without specifically calling out <code>x</code> and <code>y</code>. R will assume that you understand the order of the arguements is <code>x, y</code>, and therefore 10 will represent <code>x</code> and 5 will represent <code>y</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subtract</span>(<span class="dv">10</span>, <span class="dv">5</span>)</code></pre>
<pre><code>## [1] 5</code></pre>
<p>If we reverse the order, then 5 represents <code>x</code> and 10 represents <code>y</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subtract</span>(<span class="dv">5</span>, <span class="dv">10</span>)</code></pre>
<pre><code>## [1] -5</code></pre>
<p>Our intention with the created subtract function is to subtract one value from another. However, the code in the chunk below will run. In this code <code>x</code> represents the numeric vector <code>c(1, 2, 3)</code> and <code>y</code> represents the numeric vector <code>c(3, 2, 1)</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subtract</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>))</code></pre>
<pre><code>## [1] -2  0  2</code></pre>
<p>We only want this function to execute if <code>x</code> and <code>y</code> are each of length one. A conditional <code>if()</code> statement combined with a <code>stop()</code> function can be used to prevent the function from working on data that does not meet our requirements (<code>x</code> of length 1 and <code>y</code> of length 1). Note that this update would normarlly be made to the orginal function call up above. <code>subtract()</code> is only updated here to show the progression of our development of this function.</p>
<pre class="sourceCode r"><code class="sourceCode r">subtract &lt;-<span class="st"> </span><span class="cf">function</span>(x, y) {
  <span class="cf">if</span> (<span class="kw">length</span>(x) <span class="op">!=</span><span class="st"> </span><span class="dv">1</span> <span class="op">|</span><span class="st"> </span><span class="kw">length</span>(y) <span class="op">!=</span><span class="st"> </span><span class="dv">1</span>) <span class="kw">stop</span>(<span class="st">&quot;x and y must length 1&quot;</span>)
  x <span class="op">-</span><span class="st"> </span>y
}</code></pre>
<p>Now if a vector of length 3 is provided for the <code>x</code> or <code>y</code> arguments, the function will return an error with the message “x and y must length 1.” This is the message that was defined in the <code>stop()</code> call within the creation of the <code>subtract()</code> function above.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subtract</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>))</code></pre>
<pre><code>## Error in subtract(c(1, 2, 3), c(3, 2, 1)): x and y must length 1</code></pre>
<p>Double check that the original values still work.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subtract</span>(<span class="dv">10</span>, <span class="dv">5</span>)</code></pre>
<pre><code>## [1] 5</code></pre>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="style-guide.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="loops.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
